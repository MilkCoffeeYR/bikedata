context ("download data")

# download can't really be tested, so this just tests that it does **NOT**
# download if all files already exist

write ('a', file='201307-citibike-tripdata.zip')
write ('a', file='201308-citibike-tripdata.zip')
write ('a', file='201309-citibike-tripdata.zip')
write ('a', file='201310-citibike-tripdata.zip')
write ('a', file='201311-citibike-tripdata.zip')
write ('a', file='201312-citibike-tripdata.zip')
write ('a', file='201401-citibike-tripdata.zip')
write ('a', file='201402-citibike-tripdata.zip')
write ('a', file='201403-citibike-tripdata.zip')
write ('a', file='201404-citibike-tripdata.zip')
write ('a', file='201405-citibike-tripdata.zip')
write ('a', file='201406-citibike-tripdata.zip')
write ('a', file='201407-citibike-tripdata.zip')
write ('a', file='201408-citibike-tripdata.zip')
write ('a', file='201409-citibike-tripdata.zip')
write ('a', file='201410-citibike-tripdata.zip')
write ('a', file='201411-citibike-tripdata.zip')
write ('a', file='201412-citibike-tripdata.zip')
write ('a', file='201501-citibike-tripdata.zip')
write ('a', file='201502-citibike-tripdata.zip')
write ('a', file='201503-citibike-tripdata.zip')
write ('a', file='201504-citibike-tripdata.zip')
write ('a', file='201505-citibike-tripdata.zip')
write ('a', file='201506-citibike-tripdata.zip')
write ('a', file='201507-citibike-tripdata.zip')
write ('a', file='201508-citibike-tripdata.zip')
write ('a', file='201509-citibike-tripdata.zip')
write ('a', file='201510-citibike-tripdata.zip')
write ('a', file='201511-citibike-tripdata.zip')
write ('a', file='201512-citibike-tripdata.zip')
write ('a', file='201601-citibike-tripdata.zip')
write ('a', file='201602-citibike-tripdata.zip')
write ('a', file='201603-citibike-tripdata.zip')
write ('a', file='201604-citibike-tripdata.zip')
write ('a', file='201605-citibike-tripdata.zip')
write ('a', file='201606-citibike-tripdata.zip')
write ('a', file='201607-citibike-tripdata.zip')
write ('a', file='201608-citibike-tripdata.zip')
write ('a', file='201609-citibike-tripdata.zip')
write ('a', file='201610-citibike-tripdata.zip')
write ('a', file='201611-citibike-tripdata.zip')
write ('a', file='201612-citibike-tripdata.zip')

test_that ('dl_bikedata', {
               expect_message (dl_bikedata (data_dir='.'),
                               'All data files already exist')
})

invisible (file.remove (list.files (pattern='.zip')))
